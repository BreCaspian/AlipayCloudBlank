<view class="order-page">
  <!-- ä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯æç¤ºç»„ä»¶ -->
  <order-error-tip a:if="{{errorMessage}}" errorMessage="{{errorMessage}}" />
  
  <!-- é¡¶éƒ¨æ ‡é¢˜ -->
  <view class="header">
    <text class="title">è®¢å•ç¡®è®¤</text>
  </view>
  
  <!-- æ”¶è´§åœ°å€ -->
  <view class="address-section">
    <view class="address-icon">ğŸ“</view>
    <view class="address-info">
      <view class="address-top">
        <text class="address-name">{{address.name}}</text>
        <text class="address-phone">{{address.phone}}</text>
      </view>
      <view class="address-detail">{{address.address}}</view>
    </view>
    <view class="address-arrow">></view>
  </view>
  
  <!-- å•†å“åˆ—è¡¨ -->
  <scroll-view class="goods-list" scroll-y>
    <view class="section-title">å•†å“ä¿¡æ¯</view>
    <block a:for="{{selectedItems}}" a:key="_id">
      <view class="goods-item">
        <image src="{{item.image || item.url || '/images/default.jpg'}}" class="goods-image" mode="aspectFill"/>
        <view class="goods-info">
          <text class="goods-name">{{item.name || item.title || 'å•†å“'}}</text>
          <text class="goods-price">Â¥{{item.price}}</text>
        </view>
        <text class="goods-count">x{{item.quantity || 1}}</text>
      </view>
    </block>
  </scroll-view>

  <!-- é‡‘é¢æ±‡æ€» -->
  <view class="amount-section">
    <view class="amount-row">
      <text>å•†å“æ€»ä»·</text>
      <text>Â¥{{totalAmount}}</text>
    </view>
    <view class="amount-row">
      <text>è¿è´¹</text>
      <text>Â¥0.00</text>
    </view>
    <view class="amount-row total">
      <text>åº”ä»˜æ€»é¢</text>
      <text class="total-price">Â¥{{totalAmount}}</text>
    </view>
  </view>

  <!-- æ”¯ä»˜æŒ‰é’® -->
  <view class="footer">
    <button 
      class="pay-btn" 
      onTap="onSubmitOrder"
      loading="{{loading}}"
      disabled="{{loading || errorMessage}}"
    >
      {{loading ? 'å¤„ç†ä¸­...' : 'ç«‹å³æ”¯ä»˜'}}
    </button>
  </view>
</view>