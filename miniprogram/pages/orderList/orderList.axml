<view class="order-list-page" style="padding-top: {{statusBarHeight}}px;">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="back-icon" onTap="goBack">â†</view>
    <text class="title">æˆ‘çš„è®¢å•</text>
    <view class="placeholder" style="width: 20px;"></view>
  </view>
  
  <!-- çŠ¶æ€é€‰é¡¹å¡ -->
  <view class="status-tabs">
    <view class="tab-item {{currentStatus === '' ? 'active' : ''}}" 
          onTap="switchStatus" data-status="">
      <text>å…¨éƒ¨</text>
    </view>
    <view class="tab-item {{currentStatus === '0' ? 'active' : ''}}" 
          onTap="switchStatus" data-status="0">
      <text>å¾…ä»˜æ¬¾</text>
    </view>
    <view class="tab-item {{currentStatus === '1' ? 'active' : ''}}" 
          onTap="switchStatus" data-status="1">
      <text>å¾…å‘è´§</text>
    </view>
    <view class="tab-item {{currentStatus === '2' ? 'active' : ''}}" 
          onTap="switchStatus" data-status="2">
      <text>å¾…æ”¶è´§</text>
    </view>
    <view class="tab-item {{currentStatus === '3' ? 'active' : ''}}" 
          onTap="switchStatus" data-status="3">
      <text>å·²å®Œæˆ</text>
    </view>
  </view>
  
  <!-- é”™è¯¯ä¿¡æ¯æç¤º -->
  <view class="error-message" a:if="{{errorMessage}}">{{errorMessage}}</view>
  
  <!-- åŠ è½½æç¤º -->
  <view class="loading-container" a:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
  
  <!-- è®¢å•åˆ—è¡¨ -->
  <view class="order-list" a:if="{{!loading && orders.length > 0}}">
    <block a:for="{{orders}}" a:key="_id">
      <view class="order-item" onTap="viewOrderDetail" data-id="{{item._id}}">
        <view class="order-header">
          <text class="order-no">è®¢å•å·: {{item.order_no}}</text>
          <text class="order-status">{{statusMap[item.status]}}</text>
        </view>
        
        <view class="order-products">
          <block a:for="{{item.items}}" a:for-item="product" a:key="product_id">
            <view class="product-item">
              <image class="product-image" src="{{product.image}}" mode="aspectFill" />
              <view class="product-info">
                <text class="product-name">{{product.name}}</text>
                <view class="product-price-qty">
                  <text class="product-price">Â¥{{product.price}}</text>
                  <text class="product-qty">x{{product.quantity}}</text>
                </view>
              </view>
            </view>
          </block>
        </view>
        
        <view class="order-footer">
          <text class="order-time">{{item.create_time}}</text>
          <text class="order-total">æ€»è®¡: Â¥{{item.total_price}}</text>
        </view>
      </view>
    </block>
  </view>
  
  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" a:if="{{!loading && orders.length === 0}}">
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-text">æš‚æ— è®¢å•</text>
  </view>
</view> 